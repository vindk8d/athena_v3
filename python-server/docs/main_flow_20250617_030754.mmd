graph TD
    input_interpreter_node["input_interpreter<br/>Interpret the input and classify intent."]
    planner_node["planner<br/>Create execution plan and assess information completeness."]
    time_normalizer_node["time_normalizer<br/>Normalize time references to tool-compatible formats."]
    clarification_node["clarification<br/>Generate clarification questions for missing information."]
    execution_node["execution<br/>Execute the planned tools."]
    response_generator_node["response_generator<br/>Generate the final response."]
    START(("START"))
    END(("END"))
    START --> input_interpreter_node
    input_interpreter_node -->|"calendar"| planner_node
    input_interpreter_node -->|"direct_response"| response_generator_node
    planner_node -->|"needs_time_normalization"| time_normalizer_node
    planner_node -->|"needs_clarification"| clarification_node
    planner_node -->|"ready_for_execution"| execution_node
    planner_node -->|"direct_response"| response_generator_node
    time_normalizer_node --> planner_node
    clarification_node --> END
    execution_node --> response_generator_node
    response_generator_node --> END